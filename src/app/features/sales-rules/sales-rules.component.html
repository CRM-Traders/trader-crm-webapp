<!-- src/app/features/sales-rules/sales-rules.component.html -->
<div class="general-container bg-white">
  <div class="mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Page Header -->
    <div class="mb-6">
      <div class="sm:flex sm:items-center sm:justify-between">
        <div>
          <h1 class="text-3xl font-bold text-gray-900">Sales Rules</h1>
          <p class="mt-2 text-sm text-gray-700">
            Manage sales distribution rules and operator assignments
          </p>
        </div>
        <div class="mt-4 sm:mt-0">
          <button
            class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
            (click)="createRule()"
          >
            <svg
              class="mr-2 -ml-1 h-5 w-5"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 6v6m0 0v6m0-6h6m-6 0H6"
              />
            </svg>
            Create Rule
          </button>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="relative">
      <!-- Grid Container -->
      <div
        class="bg-white dark:bg-gray-800 rounded-xl"
      >
        <div class="overflow-x-auto">
          <app-grid
            gridId="sales-rules-grid"
            [endpoint]="'identity/api/salerules'"
            [columns]="gridColumns"
            [actions]="gridActions"
            [sortable]="true"
            [enableContextMenu]="true"
            [exportable]="true"
            [showFilters]="true"
            [selectable]="false"
            [showColumnSelector]="true"
            emptyMessage="No sales rules found"
            (rowClick)="onRowClick($event)"
          >
            <!-- Category Cell Template -->
            <ng-template #categoryCell let-value="value">
              <span
                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"
              >
                {{ getRuleCategory(value) }}
              </span>
            </ng-template>

            <!-- Priority Cell Template -->
            <ng-template #priorityCell let-value="value">
              <span
                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"
                [ngClass]="getRulePriorityColors(value)"
              >
                {{ getRulePriorityLabels(value) }}
              </span>
            </ng-template>

            <!-- Type Cell Template -->
            <ng-template #typeCell let-value="value">
              <span
                class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800"
              >
                {{ getRuleTypeLabels(value) }}
              </span>
            </ng-template>

            <!-- Operators Cell Template -->
            <ng-template #operatorsCell let-row="row">
              <span
                class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-gray-200 text-gray-700 text-sm font-medium"
              >
                {{ row.operators || 0 }}
              </span>
            </ng-template>
          </app-grid>
        </div>
      </div>


    </div>
  </div>


</div>
